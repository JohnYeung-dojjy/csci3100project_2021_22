<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="static/css/rule.css">
    <link rel="stylesheet" href="static/css/game.css">
    <link rel="stylesheet" href="static/css/leader_board.css">
    <script>
        let username = JSON.parse('<%-JSON.stringify(thisusername)%>');
        let bestscore = JSON.parse('<%-JSON.stringify(thisscore)%>');
    </script>
    <style>
        body {
            height: 100vh;
            /* 100%high */
            display: flex;
            justify-content: center;
            /*all elements align in the x-center */
            align-items: center;
            /* all sub elements align in the y-center/
      /* background-color: rgb(31, 32, 41); */
            background: url('static/img/RadioactiveHeat.jpg');
            background-repeat: no-repeat;
            background-size: cover;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="game">
        <div class="rule">
            <header>Rules</header>
            <table>
                <tbody>
                    <tr>
                        <td class="rank">1</td>
                        <td class="name">The game will last for 15 seconds</td>
                    </tr>
                    <tr>
                        <td class="rank">2</td>
                        <td class="name">Fit your hand into the image to score 1 point</td>
                    </tr>
                    <tr>
                        <td class="rank">3</td>
                        <td class="name">Put your hand close to the camera for best depth prediction</td>
                    </tr>
                    <tr>
                        <td class="rank">4</td>
                        <td class="name">Open your palm if the hand skeleton is not shown</td>
                    </tr>
                </tbody>
            </table>
            <!-- <p>1. The game will last for 15 seconds</p>
            <p>2. Fit your hand into the image to score 1 point</p>
            <p>3. Put your hand close to the camera for best depth prediction</p> -->
            <div class="button_container"><button type="button" class="play_button" disabled="disabled">Preparing
                    camera...</button></div>
        </div>
        <div class="camera">
            <div class="row score_and_time">
                <div class="col-xl-2 lg-1"></div>
                <div class="col" id="score">Score: 0</div>
                <div class="col" id="timer">Time remain: </div>
                <div class="col-xl-2 lg-1"></div>
            </div>
            <div class="display">
                <video class="input_video"></video>
                <canvas class="output_canvas"></canvas>

            </div>
            <div class="hand_too_far_warning">
                <p></p>
            </div>
        </div>

        <div id="lboard">
            <header>Leader Board</header>
            <table>
                <tbody>
                    <tr>
                        <td class="rank">1</td>
                        <td class="name">Null</td>
                        <td class="score">Null</td>
                    </tr>
                    <tr>
                        <td class="rank">2</td>
                        <td class="name">Null</td>
                        <td class="score">Null</td>
                    </tr>
                    <tr>
                        <td class="rank">3</td>
                        <td class="name">Null</td>
                        <td class="score">Null</td>
                    </tr>
                    <tr>
                        <td class="rank">4</td>
                        <td class="name">Null</td>
                        <td class="score">Null</td>
                    </tr>
                    <tr>
                        <td class="rank">5</td>
                        <td class="name">Null</td>
                        <td class="score">Null</td>
                    </tr>
                    <tr>
                        <td class="rank">6</td>
                        <td class="name">Null</td>
                        <td class="score">Null</td>
                    </tr>
                </tbody>

            </table>
            <div class="play_score">
                <p></p>
            </div>
            <div class="replay_return_button">
                <button type="button" class="play_button" id="replay_button">
                    Play Again
                </button>
                <button type="button" class="play_button" id="return_button" onclick="location.href='/user';">
                    Exit
                </button>
            </div>
        </div>
    </div>
    </div>

</body>
<!-- <script src="static/js/game_elements.js"></script>
<script src="static/js/timer.js"></script>
<script src="static/js/wall.js"></script>
<script src="static/js/rule.js"></script>
<script src="static/js/game.js"></script>
<script src="static/js/lboard.js"></script> -->
<!-- <script>
    async function returntouser() {
        let request = new Request('/user', {
            method: 'get'
        });
        await fetch(request);
        window.location.reload();
    }
</script> -->

</html>